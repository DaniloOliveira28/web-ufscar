<!DOCTYPE html>
<html>

<head>
    <title>Async/Await Intro</title>
</head>

<body>
</body>

<script>
    async function getDeputies() {
      
      var myHeaders = new Headers();
      myHeaders.append("accept", "application/json");

      var myInit = { 
        method: 'GET',
        headers: myHeaders,
        mode: 'cors',
        cache: 'default' 
      };
      const response = await fetch('https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome', myInit);
      const data = await response.json();
      console.log(data)

      return data.dados.map(deputy => {
          console.log(deputy.nome);
      });

      /* return fetch('https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome', myInit)
        .then(data => data.json())
        .then(data => data.dados.map(deputy => {
            console.log(deputy.nome);
        })); */
    }

    getDeputies();
</script>

</html>